{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{52:function(e,t,n){},53:function(e,t){},65:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){\"use strict\";n.r(t);var i=n(1),s=n.n(i),r=n(18),o=n.n(r),c=(n(52),n(13)),a=n(14),l=n(7),d=n(16),u=n(15),p=(n(36),n(92),n(65),n(47)),h=n.n(p),f=n(5),g=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).videoRef=s.a.createRef(),i}return Object(a.a)(n,[{key:\"render\",value:function(){var e=this;return Object(f.jsx)(h.a,{ref:this.videoRef,url:\"https://youtu.be/lrcDzmIGXWs?list=PL-3W-zZzHzX_3T63nVAH5EmNAhxBIUed7\",onPlay:function(){var t,n,i,s;e.props.onVideoPlay(null===(t=e.videoRef.current)||void 0===t||null===(n=t.player)||void 0===n||null===(i=n.player)||void 0===i||null===(s=i.player)||void 0===s?void 0:s.getVideoUrl())},controls:!0})}},{key:\"componentDidMount\",value:function(){}}]),n}(s.a.Component),v=n(23),b=n(19),j=n(10),m=(n(86),n(28)),O=(n(87),n.p+\"static/media/close_btn.0eb860d3.svg\"),y=n.p+\"static/media/indent_btn.1259e6a7.svg\",x=n.p+\"static/media/outdent_btn.3d8a08ed.svg\",k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).textInputRef=s.a.createRef(),i.btnsDivRef=s.a.createRef(),i}return Object(a.a)(n,[{key:\"render\",value:function(){var e=this,t=this.getConfig(this.props.item);return Object(f.jsxs)(\"div\",{className:\"description-item-div\",id:\"description-item_\"+this.props.id.toString(),style:t.itemDivStyle,children:[Object(f.jsx)(\"input\",{id:\"description-text_\"+this.props.id.toString(),className:\"description-text\",ref:this.textInputRef,type:\"text\",placeholder:\"type here...\",maxLength:\"30\",size:\"30\",autoComplete:\"off\",draggable:!0,blur:t.blur,focus:t.focus,autoFocus:t.autofocus,readOnly:t.readOnly,style:t.style,onClick:function(t){return e.props.onSingleClick(e.props.id,e.textInputRef.current.value,t)},onKeyDown:function(t){return e.props.onKeyPress(e.props.id,e.textInputRef.current.value,t)},onBlur:function(){return e.props.onBlur(e.props.id,e.textInputRef.current.value)}},this.props.sid),Object(f.jsxs)(\"div\",{className:\"step-btns-div\",ref:this.btnsDivRef,children:[Object(f.jsx)(\"button\",{className:\"outdent-btn\",id:\"outdent_btn_\"+this.props.id.toString(),onClick:function(t){return e.props.onKeyPress(e.props.id,\"outdent_btn\",t)},children:Object(f.jsx)(\"img\",{className:\"indentation-btn-img\",src:x,alt:\"indent\"})}),Object(f.jsx)(\"button\",{className:\"indent-btn\",id:\"indent_btn_\"+this.props.id.toString(),onClick:function(t){return e.props.onKeyPress(e.props.id,\"<-\",t)},children:Object(f.jsx)(\"img\",{className:\"indentation-btn-img\",src:y,alt:\"->\"})}),Object(f.jsx)(\"button\",{className:\"close-btn\",id:\"indent_btn_\"+this.props.id.toString(),onClick:function(t){return e.props.onKeyPress(e.props.id,\"close_btn\",t)},children:Object(f.jsx)(\"img\",{className:\"close-btn-img\",src:O,alt:\"X\"})})]})]})}},{key:\"componentDidUpdate\",value:function(){this.textInputRef.current.value=this.props.item.text,\"writing\"===this.props.item.mode?this.textInputRef.current.focus():this.textInputRef.current.blur()}},{key:\"componentDidMount\",value:function(){this.textInputRef.current.value=this.props.item.text,\"writing\"===this.props.item.mode?this.textInputRef.current.focus():this.textInputRef.current.blur()}},{key:\"getConfig\",value:function(e){var t=e.mode,n=e.level,i={},s={},r=\"false\",o=\"true\",c=!0,a=!1;return\"writing\"===t?i={cursor:\"text\"}:\"not_writing\"===t&&(i={cursor:\"pointer\"},r=\"true\",o=\"false\",a=!0,c=!1),i.fontSize=17,s.marginLeft=0,s.width=470,s.height=45,2===n?(i.fontSize=16,s.marginLeft=60,s.width=420,s.height=40):3===n&&(i.fontSize=15,s.marginLeft=110,s.width=395,s.height=35),{readOnly:a,style:i,focus:o,blur:r,autofocus:c,itemDivStyle:s}}}]),n}(s.a.Component),S=n(17),I=n.n(S),w=n(22);function D(e,t,n,i){return _.apply(this,arguments)}function _(){return(_=Object(w.a)(I.a.mark((function e(t,n,i,s){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C(t),t={video_id:i,session_time:n,descriptions:t,user:s},e.abrupt(\"return\",fetch(\"https://secret-gorge-06842.herokuapp.com/userData\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)}).then((function(e){})));case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=[];return e.forEach((function(e){t.push({level:e.level,text:e.text})})),t}var T=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).counter=0,i.sessionTime=\"\",i.state={descriptions:[{key:0,mode:\"writing\",level:1,selected:!0,text:\"\"}]},i.counter+=1,i.setModeByKey=i.setModeByKey.bind(Object(l.a)(i)),i.getMode=i.getMode.bind(Object(l.a)(i)),i.addStepAfter=i.addStepAfter.bind(Object(l.a)(i)),i.removeWritingStep=i.removeWritingStep.bind(Object(l.a)(i)),i.getSelected=i.getSelected.bind(Object(l.a)(i)),i.getWritingStep=i.getWritingStep.bind(Object(l.a)(i)),i.deselectAll=i.deselectAll.bind(Object(l.a)(i)),i.getIndex=i.getIndex.bind(Object(l.a)(i)),i.getWritingIndex=i.getWritingIndex.bind(Object(l.a)(i)),i.removeItem=i.removeItem.bind(Object(l.a)(i)),i.updateDescendents=i.updateDescendents.bind(Object(l.a)(i)),i.getDescendents=i.getDescendents.bind(Object(l.a)(i)),i.deleteItems=i.deleteItems.bind(Object(l.a)(i)),i.getPrevSibling=i.getPrevSibling.bind(Object(l.a)(i)),i.groupDescriptions=i.groupDescriptions.bind(Object(l.a)(i)),i.getSessionTime=i.getSessionTime.bind(Object(l.a)(i)),i.handleSingleClick=i.handleSingleClick.bind(Object(l.a)(i)),i.handleBlur=i.handleBlur.bind(Object(l.a)(i)),i.handleKeyAction=i.handleKeyAction.bind(Object(l.a)(i)),i.handleDragEnd=i.handleDragEnd.bind(Object(l.a)(i)),i}return Object(a.a)(n,[{key:\"render\",value:function(){var e=this;2===this.counter&&(this.sessionTime=this.getSessionTime());var t=this.groupDescriptions(Object(j.a)(this.state.descriptions)).map((function(t,n){return Object(f.jsx)(m.b,{draggableId:n.toString(),index:n,children:function(i){return Object(f.jsx)(\"div\",Object(b.a)(Object(b.a)(Object(b.a)({id:n.toString(),className:\"step-div\"},i.draggableProps),i.dragHandleProps),{},{ref:i.innerRef,children:t.map((function(t,n){return Object(f.jsx)(k,{id:t.key.toString(),onSingleClick:e.handleSingleClick,onDoubleClick:e.handleDoubleClick,onBlur:e.handleBlur,onKeyPress:e.handleKeyAction,item:t},t.key.toString())}))}),n.toString())}},n.toString())}));return Object(f.jsx)(m.a,{onDragEnd:this.handleDragEnd,children:Object(f.jsx)(m.c,{droppableId:\"description-pane-droppable\",children:function(e){return Object(f.jsxs)(\"div\",Object(b.a)(Object(b.a)({id:\"description-pane-container\",ref:e.innerRef},e.droppableProps),{},{children:[t,e.placeholder]}))}})})}},{key:\"componentDidUpdate\",value:function(e){e.videoID!==this.props.videoID&&this.setState({descriptions:[{key:0,mode:\"writing\",level:1,selected:!0,text:\"\"}]})}},{key:\"componentDidMount\",value:function(){}},{key:\"getSessionTime\",value:function(){var e=new Date;return\"\".concat(e.getFullYear(),\"-\").concat(e.getMonth()+1,\"-\").concat(e.getDate(),\"-\").concat(e.getHours(),\"-\").concat(e.getMinutes(),\"-\").concat(e.getSeconds())}},{key:\"groupDescriptions\",value:function(e){for(var t=[],n=[],i=0;i<e.length;i++)1===e[i].level?(n.length&&t.push(n),n=[e[i]]):n.push(e[i]),i===e.length-1&&n.length&&t.push(n);return t}},{key:\"handleDragEnd\",value:function(e){if(null!=e.destination&&e.destination.index!==e.source.index){var t=Object(j.a)(this.state.descriptions),n=e.source.index,i=e.destination.index,s=this.groupDescriptions(t),r=i>n?1:0,o=i>n?0:1;s.splice(i+r,0,s[n]),s.splice(n+o,1),D(t,this.sessionTime,this.props.videoID,this.props.user),this.setState({descriptions:s.flat()})}}},{key:\"handleSingleClick\",value:function(e,t){var n=Object(j.a)(this.state.descriptions);if(\"\"!==t){var i=this.getIndex(n,e,0),s=this.getWritingIndex(n);s>=0&&(n[s].mode=\"not_writing\"),n[i].mode=\"writing\",(n=this.deselectAll(n))[i].selected=!0,this.setState({descriptions:n})}}},{key:\"handleBlur\",value:function(e,t){var n=Object(j.a)(this.state.descriptions);if(\"\"!==t){var i=this.getIndex(n,e,0);n[i].mode=\"not_writing\",n[i].text=t}else\"\"===t&&n.length>1&&(n=this.removeWritingStep(n));this.setState({descriptions:n})}},{key:\"handleKeyAction\",value:function(e,t,n){var i=Object(j.a)(this.state.descriptions);if(46===n.which||\"click\"===n.type&&\"close_btn\"===t){var s=null;if((i[s=null===e?this.getSelected(i):this.getIndex(i,e,0)].selected||\"click\"===n.type&&\"close_btn\"===t)&&i.length>=2){i=this.deselectAll(i);var r=this.getDescendents(i,s);if(0===s)i[s+r.length].selected=!0;else{var o=this.getPrevSibling(i,s),c=1;if(null!=o)c=this.getDescendents(i,o).length;i[s-c].selected=!0}r.length<i.length&&(D(i=this.deleteItems(i,r),this.sessionTime,this.props.videoID,this.props.user),this.setState({descriptions:i}))}}else if(13===n.which&&\"\"!==t){var a=this.getMode(i,e,0),l=this.getIndex(i,e,0),d=l;if(\"writing\"===a||\"not_writing\"===a&&i[l].selected){i[l].mode=\"not_writing\",i[l].text=t,i=this.deselectAll(i);var u=this.addStepAfter(i,e,\"writing\",null),p=Object(v.a)(u,2);(i=p[0])[d=p[1]].selected=!0,i[d].mode=\"writing\",D(i,this.sessionTime,this.props.videoID,this.props.user),this.setState({descriptions:i})}}else if(9===n.which||\"click\"===n.type){n.preventDefault();var h=this.getIndex(i,e,0);if(h>0){var f=this.getDescendents(i,h);n.shiftKey&&\"indent_btn\"!==t||(\"writing\"===i[h].mode||\"indent_btn\"===t)&&i.length>1&&i[h-1].level>=i[h].level&&i[h].level<=2&&(i[h].level+=1,D(i=this.updateDescendents(i,f,\"level_increase\"),this.sessionTime,this.props.videoID,this.props.user),this.setState({descriptions:i})),(n.shiftKey||\"outdent_btn\"===t)&&i[h].level>=2&&(i[h].level-=1,D(i=this.updateDescendents(i,f,\"level_decrease\"),this.sessionTime,this.props.videoID,this.props.user),this.setState({descriptions:i}))}}else if(40===n.which){i=Object(j.a)(this.state.descriptions);var g=this.getIndex(i,e,0);if(g===i.length-1)return void this.setState({descriptions:i});\"\"!==t?(i[g].text=t,i[g].selected=!1,i[g].mode=\"not_writing\",i[g+1].selected=!0,i[g+1].mode=\"writing\"):((i=this.removeItem(i,g))[g].selected=!0,i[g].mode=\"writing\"),this.setState({descriptions:i})}else if(38===n.which){i=Object(j.a)(this.state.descriptions);var b=this.getIndex(i,e,0);if(0===b)return void this.setState({descriptions:i});\"\"!==t?(i[b].text=t,i[b].selected=!1,i[b].mode=\"not_writing\",i[b-1].selected=!0,i[b-1].mode=\"writing\"):((i=this.removeItem(i,b))[b-1].selected=!0,i[b-1].mode=\"writing\"),this.setState({descriptions:i})}else if(40===n.which||38===n.which){i=Object(j.a)(this.state.descriptions);var m=this.getIndex(i,e,0);if(m===i.length-1&&40===n.which)return;if(0===m&&38===n.which)return;var O=!1;if(\"\"===t){if(!(i.length>1))return;i=this.removeItem(i,m),O=!0}else i[m].text=t,i[m].selected=!1,i[m].mode=\"not_writing\";var y=m;40===n.which?!O&&m<i.length-1&&(y=m+1):m>0&&(y=m-1),(i=this.deselectAll(i))[y].selected=!0,i[y].mode=\"writing\",this.setState({descriptions:i})}}},{key:\"getIndex\",value:function(e,t,n){var i=Object(j.a)(e).map((function(e){return e.key})).indexOf(parseInt(t));return i>=0?i+n:-1}},{key:\"getWritingIndex\",value:function(e){for(var t=0;t<e.length;t++)if(\"writing\"===e[t].mode)return t;return-1}},{key:\"setModeByKey\",value:function(e,t,n){var i=Object(j.a)(e),s=i.map((function(e){return e.key})).indexOf(parseInt(t));return s>=0?i[s].mode=n:console.log(\"step description does not exist\"),i}},{key:\"getMode\",value:function(e,t,n){var i=Object(j.a)(e),s=i.map((function(e){return e.key})).indexOf(parseInt(t));if(void 0!==i[s+n])return i[s+n].mode}},{key:\"getSelected\",value:function(e){for(var t=0;t<e.length;t++)if(e[t].selected)return t;return-1}},{key:\"getWritingStep\",value:function(e){for(var t=0;t<e.length;t++)if(\"writing\"===e[t].mode)return t;return-1}},{key:\"deselectAll\",value:function(e){for(var t=0;t<e.length;t++)e[t].selected&&(e[t].selected=!1);return e}},{key:\"addStepAfter\",value:function(e,t,n,i){var s=Object(j.a)(e),r=s.map((function(e){return e.key})).indexOf(parseInt(t)),o=i;null===i&&(o=s[r].level);var c=this.getDescendents(s,r),a=c[c.length-1]+1;return s.splice(a,0,{key:this.counter,mode:n,level:o,selected:!0,text:\"\"}),this.counter+=1,[s,a]}},{key:\"removeWritingStep\",value:function(e){for(var t=Object(j.a)(e),n=Object(j.a)(t),i=1;i<t.length;i++)if(\"writing\"===t[i].mode)return n.splice(i,1),n;return console.log(\"Didn't find the item, to remove\"),n}},{key:\"removeItem\",value:function(e,t){return e.splice(t,1),e}},{key:\"getDescendents\",value:function(e,t){for(var n=[t],i=e[t].level,s=t+1;s<e.length&&e[s].level>i;s++)n.push(s);return n}},{key:\"updateDescendents\",value:function(e,t,n){for(var i=1;i<t.length;i++)\"level_increase\"===n?e[t[i]].level+=1:\"level_decrease\"===n&&(e[t[i]].level-=1);return e}},{key:\"deleteItems\",value:function(e,t){var n=[];return e.forEach((function(e,i){t.includes(i)||n.push(e)})),n}},{key:\"getPrevSibling\",value:function(e,t){for(var n=t-1;n>0;n--){if(e[n].level<e[t].level)return null;if(e[t].level===e[n].level)return n}return null}},{key:\"saveUserData\",value:function(e,t){}}]),n}(s.a.Component);n(90);function P(e){return R.apply(this,arguments)}function R(){return(R=Object(w.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",fetch(\"https://secret-gorge-06842.herokuapp.com/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t=e.setToken,n=Object(i.useState)(),s=Object(v.a)(n,2),r=s[0],o=s[1],c=Object(i.useState)(),a=Object(v.a)(c,2),l=a[0],d=a[1],u=function(){var e=Object(w.a)(I.a.mark((function e(n){var i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,P({username:r,password:l});case 3:i=e.sent,console.log(i),t(i,r);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(\"div\",{id:\"login-container\",children:[Object(f.jsx)(\"h1\",{id:\"login-title\",children:\"Login\"}),Object(f.jsxs)(\"form\",{autoComplete:\"off\",onSubmit:u,children:[Object(f.jsx)(\"div\",{id:\"username-label-div\",children:Object(f.jsx)(\"label\",{children:Object(f.jsx)(\"input\",{className:\"login-text-input\",type:\"text\",placeholder:\"username\",onChange:function(e){return o(e.target.value)}})})}),Object(f.jsx)(\"div\",{id:\"password-label-div\",children:Object(f.jsx)(\"label\",{children:Object(f.jsx)(\"input\",{className:\"login-text-input\",type:\"password\",placeholder:\"password\",autoComplete:\"off\",onChange:function(e){return d(e.target.value)}})})}),Object(f.jsx)(\"div\",{id:\"login-btn-div\",children:Object(f.jsx)(\"button\",{type:\"submit\",children:\"Login\"})})]})]})}n(91);var N=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={videoId:\"\",token:\"\"},i.user=\"\",i.setToken=i.setToken.bind(Object(l.a)(i)),i.getToken=i.getToken.bind(Object(l.a)(i)),i.handleVideoPlay=i.handleVideoPlay.bind(Object(l.a)(i)),i}return Object(a.a)(n,[{key:\"render\",value:function(){return this.getToken()?Object(f.jsxs)(\"div\",{id:\"main-container\",children:[Object(f.jsx)(\"div\",{id:\"player-container\",children:Object(f.jsx)(g,{id:\"video-player\",onVideoPlay:this.handleVideoPlay})}),Object(f.jsx)(T,{id:\"description-pane\",videoID:this.state.videoId,user:this.user})]}):Object(f.jsx)(A,{setToken:this.setToken})}},{key:\"handleVideoPlay\",value:function(e){var t=e;if(e.includes(\"&t=\")){var n=e.split(\"&t=\")[0],i=e.split(\"&t=\")[1];i.includes(\"&v=\")&&(i=\"&v=\"+i.split(\"&v=\")[1]),t=n+i}this.state.videoId!==t&&this.setState({videoId:t})}},{key:\"setToken\",value:function(e,t){sessionStorage.setItem(\"token\",JSON.stringify(e)),this.user=t,sessionStorage.setItem(\"user\",this.user),this.forceUpdate()}},{key:\"getToken\",value:function(){var e=sessionStorage.getItem(\"token\"),t=JSON.parse(e);return this.user=sessionStorage.getItem(\"user\"),null===t||void 0===t?void 0:t.token}},{key:\"callAPI\",value:function(){var e=this;fetch(\"http://localhost:9000/testAPI\").then((function(e){return e.text()})).then((function(t){return e.setState({apiResponse:t})}))}},{key:\"componentDidMount\",value:function(){}}]),n}(s.a.Component),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById(\"root\")),K()}},[[93,1,2]]]);","name":"static/js/main.c1ad40c8.chunk.js","map":{"version":3,"sources":["static/js/main.c1ad40c8.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","lib","lib_default","jsx_runtime","VideoPlayer_VideoPlayer","_React$Component","Object","VideoPlayer","_super","props","_this","call","videoRef","a","createRef","key","value","_this2","ref","url","onPlay","_this2$videoRef$curre","_this2$videoRef$curre2","_this2$videoRef$curre3","_this2$videoRef$curre4","onVideoPlay","current","player","getVideoUrl","controls","Component","slicedToArray","objectSpread2","toConsumableArray","react_beautiful_dnd_esm","close_btn","p","indent_btn","outdent_btn","StepDescription_StepDescription","StepDescription","textInputRef","btnsDivRef","config","getConfig","item","className","id","toString","style","itemDivStyle","children","type","placeholder","maxLength","size","autoComplete","draggable","blur","focus","autoFocus","autofocus","readOnly","onClick","event","onSingleClick","onKeyDown","onKeyPress","onBlur","sid","src","alt","text","mode","level","textInputStyle","cursor","fontSize","marginLeft","width","height","regenerator","regenerator_default","asyncToGenerator","sendDataToServer","_x","_x2","_x3","_x4","_sendDataToServer","apply","arguments","mark","_callee","data","sessionTime","videoID","user","wrap","_context","prev","next","pruneData","video_id","session_time","descriptions","abrupt","fetch","method","headers","body","JSON","stringify","then","stop","newData","forEach","d","DescriptionPane_DescriptionPane","DescriptionPane","counter","state","selected","setModeByKey","bind","getMode","addStepAfter","removeWritingStep","getSelected","getWritingStep","deselectAll","getIndex","getWritingIndex","removeItem","updateDescendents","getDescendents","deleteItems","getPrevSibling","groupDescriptions","getSessionTime","handleSingleClick","handleBlur","handleKeyAction","handleDragEnd","stepComponentsList","map","stepList","index","draggableId","provided","draggableProps","dragHandleProps","innerRef","onDoubleClick","handleDoubleClick","onDragEnd","droppableId","droppableProps","prevProps","setState","Date","concat","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","descriptionListG","stepDescriptionList","i","length","result","destination","source","items","sourceStepIndex","destinationStepIndex","steps","destinationOffset","sourceOffset","splice","flat","txt","oldWritingIndex","which","currentStepIndex","descIndexList","prevSiblingIndex","offset","currentStepMode","curretnStepIndex","newStepIndex","_this$addStepAfter","_this$addStepAfter2","preventDefault","_currentStepIndex","_descIndexList","shiftKey","oldIndex","_oldIndex","_oldIndex2","oldItemIsRemoved","newIndex","stateItems","descriptionKey","itemIndex","indexOf","parseInt","console","log","undefined","itemsState","mLevel","newItemIndex","newItems","currentStepLevel","desIndexList","action","indexList","includes","fileName","loginUser","_loginUser","_callee2","credentials","_context2","json","Login_Login","_ref","setToken","_useState","_useState2","username","setUserName","_useState3","_useState4","password","setPassword","handleSubmit","_ref2","e","token","sent","onSubmit","onChange","target","src_App_0","App","videoId","getToken","handleVideoPlay","videoUrl","newUrl","urlFirstHalf","split","urlSecondHalf","userToken","sessionStorage","setItem","forceUpdate","tokenString","getItem","parse","res","apiResponse","src_reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/video.js/dist/video-js.css\nvar video_js = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/videojs-vr/dist/videojs-vr.es.js + 16 modules\nvar videojs_vr_es = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./src/components/VideoPlayer.css\nvar components_VideoPlayer = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/react-player/lib/index.js\nvar lib = __webpack_require__(47);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/VideoPlayer.jsx\nvar VideoPlayer_VideoPlayer=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(VideoPlayer,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(VideoPlayer);function VideoPlayer(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,VideoPlayer);_this=_super.call(this,props);_this.videoRef=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(VideoPlayer,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,{ref:this.videoRef,url:\"https://youtu.be/lrcDzmIGXWs?list=PL-3W-zZzHzX_3T63nVAH5EmNAhxBIUed7\",onPlay:function onPlay(){var _this2$videoRef$curre,_this2$videoRef$curre2,_this2$videoRef$curre3,_this2$videoRef$curre4;_this2.props.onVideoPlay((_this2$videoRef$curre=_this2.videoRef.current)===null||_this2$videoRef$curre===void 0?void 0:(_this2$videoRef$curre2=_this2$videoRef$curre.player)===null||_this2$videoRef$curre2===void 0?void 0:(_this2$videoRef$curre3=_this2$videoRef$curre2.player)===null||_this2$videoRef$curre3===void 0?void 0:(_this2$videoRef$curre4=_this2$videoRef$curre3.player)===null||_this2$videoRef$curre4===void 0?void 0:_this2$videoRef$curre4.getVideoUrl());},controls:true});}},{key:\"componentDidMount\",value:function componentDidMount(){}}]);return VideoPlayer;}(react_default.a.Component);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/DescriptionPane.css\nvar components_DescriptionPane = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js + 36 modules\nvar react_beautiful_dnd_esm = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./src/components/StepDescription.css\nvar components_StepDescription = __webpack_require__(87);\n\n// CONCATENATED MODULE: ./src/statics/close_btn.svg\n/* harmony default export */ var close_btn = (__webpack_require__.p + \"static/media/close_btn.0eb860d3.svg\");\n// CONCATENATED MODULE: ./src/statics/indent_btn.svg\n/* harmony default export */ var indent_btn = (__webpack_require__.p + \"static/media/indent_btn.1259e6a7.svg\");\n// CONCATENATED MODULE: ./src/statics/outdent_btn.svg\n/* harmony default export */ var outdent_btn = (__webpack_require__.p + \"static/media/outdent_btn.3d8a08ed.svg\");\n// CONCATENATED MODULE: ./src/components/StepDescription.jsx\nvar StepDescription_StepDescription=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(StepDescription,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(StepDescription);function StepDescription(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,StepDescription);_this=_super.call(this,props);_this.textInputRef=/*#__PURE__*/react_default.a.createRef();_this.btnsDivRef=/*#__PURE__*/react_default.a.createRef();return _this;}Object(createClass[\"a\" /* default */])(StepDescription,[{key:\"render\",value:function render(){var _this2=this;var config=this.getConfig(this.props.item);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"description-item-div\",id:\"description-item_\"+this.props.id.toString(),style:config.itemDivStyle,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"description-text_\"+this.props.id.toString(),className:\"description-text\",ref:this.textInputRef,type:\"text\",placeholder:\"type here...\",maxLength:\"30\",size:\"30\",autoComplete:\"off\",draggable:true,blur:config.blur,focus:config.focus,autoFocus:config.autofocus,readOnly:config.readOnly,style:config.style,onClick:function onClick(event){return _this2.props.onSingleClick(_this2.props.id,_this2.textInputRef.current.value,event);},onKeyDown:function onKeyDown(event){return _this2.props.onKeyPress(_this2.props.id,_this2.textInputRef.current.value,event);},onBlur:function onBlur(){return _this2.props.onBlur(_this2.props.id,_this2.textInputRef.current.value);}},this.props.sid),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"step-btns-div\",ref:this.btnsDivRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"outdent-btn\",id:\"outdent_btn_\"+this.props.id.toString(),onClick:function onClick(event){return _this2.props.onKeyPress(_this2.props.id,\"outdent_btn\",event);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"indentation-btn-img\",src:outdent_btn,alt:\"indent\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"indent-btn\",id:\"indent_btn_\"+this.props.id.toString(),onClick:function onClick(event){return _this2.props.onKeyPress(_this2.props.id,\"<-\",event);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"indentation-btn-img\",src:indent_btn,alt:\"->\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"close-btn\",id:\"indent_btn_\"+this.props.id.toString(),onClick:function onClick(event){return _this2.props.onKeyPress(_this2.props.id,\"close_btn\",event);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"close-btn-img\",src:close_btn,alt:\"X\"})})]})]});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.textInputRef.current.value=this.props.item.text;if(this.props.item.mode===\"writing\"){this.textInputRef.current.focus();}else{this.textInputRef.current.blur();}}},{key:\"componentDidMount\",value:function componentDidMount(){this.textInputRef.current.value=this.props.item.text;if(this.props.item.mode===\"writing\"){this.textInputRef.current.focus();}else{this.textInputRef.current.blur();}}},{key:\"getConfig\",value:function getConfig(item){var mode=item.mode,level=item.level;var textInputStyle={};var itemDivStyle={};var blur=\"false\";var focus=\"true\";var autofocus=true;var readOnly=false;if(mode===\"writing\"){textInputStyle={cursor:\"text\"};}else if(mode===\"not_writing\"){textInputStyle={cursor:\"pointer\"};blur=\"true\";focus=\"false\";readOnly=true;autofocus=false;}// level-related styling\ntextInputStyle.fontSize=17;itemDivStyle.marginLeft=0;itemDivStyle.width=470;itemDivStyle.height=45;if(level===2){textInputStyle.fontSize=16;itemDivStyle.marginLeft=60;itemDivStyle.width=420;itemDivStyle.height=40;}else if(level===3){textInputStyle.fontSize=15;itemDivStyle.marginLeft=110;itemDivStyle.width=395;itemDivStyle.height=35;}return{readOnly:readOnly,style:textInputStyle,focus:focus,blur:blur,autofocus:autofocus,itemDivStyle:itemDivStyle};}}]);return StepDescription;}(react_default.a.Component);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/apiCalls.js\nfunction sendDataToServer(_x,_x2,_x3,_x4){return _sendDataToServer.apply(this,arguments);}function _sendDataToServer(){_sendDataToServer=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(data,sessionTime,videoID,user){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=pruneData(data);data={video_id:videoID,session_time:sessionTime,descriptions:data,user:user};return _context.abrupt(\"return\",fetch('https://secret-gorge-06842.herokuapp.com/userData',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(data){}));case 3:case\"end\":return _context.stop();}}},_callee);}));return _sendDataToServer.apply(this,arguments);}function pruneData(data){var newData=[];data.forEach(function(d){newData.push({level:d.level,text:d.text});});return newData;}\n// CONCATENATED MODULE: ./src/components/DescriptionPane.jsx\nvar DescriptionPane_DescriptionPane=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(DescriptionPane,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(DescriptionPane);function DescriptionPane(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,DescriptionPane);_this=_super.call(this,props);_this.counter=0;_this.sessionTime=\"\";_this.state={descriptions:[{key:0,mode:\"writing\",level:1,selected:true,text:\"\"}]};_this.counter+=1;_this.setModeByKey=_this.setModeByKey.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getMode=_this.getMode.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.addStepAfter=_this.addStepAfter.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.removeWritingStep=_this.removeWritingStep.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getSelected=_this.getSelected.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getWritingStep=_this.getWritingStep.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.deselectAll=_this.deselectAll.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getIndex=_this.getIndex.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getWritingIndex=_this.getWritingIndex.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.removeItem=_this.removeItem.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.updateDescendents=_this.updateDescendents.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getDescendents=_this.getDescendents.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.deleteItems=_this.deleteItems.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getPrevSibling=_this.getPrevSibling.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.groupDescriptions=_this.groupDescriptions.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getSessionTime=_this.getSessionTime.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleSingleClick=_this.handleSingleClick.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleBlur=_this.handleBlur.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleKeyAction=_this.handleKeyAction.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleDragEnd=_this.handleDragEnd.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(DescriptionPane,[{key:\"render\",value:function render(){var _this2=this;if(this.counter===2){this.sessionTime=this.getSessionTime();}var descriptionListG=this.groupDescriptions(Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions));var stepComponentsList=descriptionListG.map(function(stepList,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"b\" /* Draggable */],{draggableId:index.toString(),index:index,children:function children(provided){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({id:index.toString(),className:\"step-div\"},provided.draggableProps),provided.dragHandleProps),{},{ref:provided.innerRef,children:stepList.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StepDescription_StepDescription,{id:item.key.toString(),onSingleClick:_this2.handleSingleClick,onDoubleClick:_this2.handleDoubleClick,onBlur:_this2.handleBlur,onKeyPress:_this2.handleKeyAction,item:item},item.key.toString());})}),index.toString());}},index.toString());});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"a\" /* DragDropContext */],{onDragEnd:this.handleDragEnd,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"c\" /* Droppable */],{droppableId:\"description-pane-droppable\",children:function children(provided){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({id:\"description-pane-container\",ref:provided.innerRef},provided.droppableProps),{},{children:[stepComponentsList,provided.placeholder]}));}})});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.videoID!==this.props.videoID){this.setState({descriptions:[{key:0,mode:\"writing\",level:1,selected:true,text:\"\"}]});}}},{key:\"componentDidMount\",value:function componentDidMount(){//fetch(\"http://localhost:3000\").then(res => (console.log(res.text()))).catch(err => err)\n}},{key:\"getSessionTime\",value:function getSessionTime(){var d=new Date();var sessionTime=\"\".concat(d.getFullYear(),\"-\").concat(d.getMonth()+1,\"-\").concat(d.getDate(),\"-\").concat(d.getHours(),\"-\").concat(d.getMinutes(),\"-\").concat(d.getSeconds());return sessionTime;}},{key:\"groupDescriptions\",value:function groupDescriptions(descriptions){var descriptionListG=[];var stepDescriptionList=[];for(var i=0;i<descriptions.length;i++){// new step\nif(descriptions[i].level===1){if(stepDescriptionList.length){descriptionListG.push(stepDescriptionList);}stepDescriptionList=[descriptions[i]];}else{// descendents\nstepDescriptionList.push(descriptions[i]);}if(i===descriptions.length-1){if(stepDescriptionList.length){descriptionListG.push(stepDescriptionList);}}}return descriptionListG;}},{key:\"handleDragEnd\",value:function handleDragEnd(result){if(result.destination==null)return;if(result.destination.index===result.source.index)return;var items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);// step-set level index\nvar sourceStepIndex=result.source.index;var destinationStepIndex=result.destination.index;var steps=this.groupDescriptions(items);var destinationOffset=destinationStepIndex>sourceStepIndex?1:0;var sourceOffset=destinationStepIndex>sourceStepIndex?0:1;// move a copy of source step into the new location\nsteps.splice(destinationStepIndex+destinationOffset,0,steps[sourceStepIndex]);// remove the old copy of source step\nsteps.splice(sourceStepIndex+sourceOffset,1);sendDataToServer(items,this.sessionTime,this.props.videoID,this.props.user);this.setState({descriptions:steps.flat()});}},{key:\"handleSingleClick\",value:function handleSingleClick(key,txt){var items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);if(txt!==\"\"){var index=this.getIndex(items,key,0);var oldWritingIndex=this.getWritingIndex(items);if(oldWritingIndex>=0){items[oldWritingIndex].mode=\"not_writing\";}items[index].mode=\"writing\";items=this.deselectAll(items);items[index].selected=true;this.setState({descriptions:items});}}},{key:\"handleBlur\",value:function handleBlur(key,txt){var items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);if(txt!==\"\"){var index=this.getIndex(items,key,0);items[index].mode=\"not_writing\";items[index].text=txt;}else if(txt===\"\"&&items.length>1){items=this.removeWritingStep(items);}//sendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\nthis.setState({descriptions:items});}},{key:\"handleKeyAction\",value:function handleKeyAction(key,txt,event){var items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);// del --> delete step\nif(event.which===46||event.type==='click'&&txt==='close_btn'){var currentStepIndex=null;if(key===null){// delete (window listener)\ncurrentStepIndex=this.getSelected(items);}else{// delete (<input> listener)\ncurrentStepIndex=this.getIndex(items,key,0);}if((items[currentStepIndex].selected||event.type==='click'&&txt==='close_btn')&&items.length>=2){// select the previous/next step\nitems=this.deselectAll(items);var descIndexList=this.getDescendents(items,currentStepIndex);if(currentStepIndex===0){items[currentStepIndex+descIndexList.length].selected=true;}else{var prevSiblingIndex=this.getPrevSibling(items,currentStepIndex);var offset=1;if(!(prevSiblingIndex==null)){var prevStepDescIndexList=this.getDescendents(items,prevSiblingIndex);offset=prevStepDescIndexList.length;}items[currentStepIndex-offset].selected=true;}// do not delete everything\nif(descIndexList.length<items.length){items=this.deleteItems(items,descIndexList);sendDataToServer(items,this.sessionTime,this.props.videoID,this.props.user);this.setState({descriptions:items});}}}// Enter --> nex step (writing)\nelse if(event.which===13&&txt!==\"\"){var currentStepMode=this.getMode(items,key,0);var curretnStepIndex=this.getIndex(items,key,0);var newStepIndex=curretnStepIndex;if(currentStepMode===\"writing\"||currentStepMode===\"not_writing\"&&items[curretnStepIndex].selected){// change the current step to non-writing and add one writing step after it\nitems[curretnStepIndex].mode=\"not_writing\";items[curretnStepIndex].text=txt;// select the current step\nitems=this.deselectAll(items);var _this$addStepAfter=this.addStepAfter(items,key,\"writing\",null);var _this$addStepAfter2=Object(slicedToArray[\"a\" /* default */])(_this$addStepAfter,2);items=_this$addStepAfter2[0];newStepIndex=_this$addStepAfter2[1];items[newStepIndex].selected=true;items[newStepIndex].mode=\"writing\";sendDataToServer(items,this.sessionTime,this.props.videoID,this.props.user);this.setState({descriptions:items});}}// Tab or Shift + Tab\nelse if(event.which===9||event.type===\"click\"){event.preventDefault();// perform indention if it is writing\nvar _currentStepIndex=this.getIndex(items,key,0);if(_currentStepIndex>0){var _descIndexList=this.getDescendents(items,_currentStepIndex);// only tab\nif(!event.shiftKey||txt===\"indent_btn\"){if((items[_currentStepIndex].mode===\"writing\"||txt===\"indent_btn\")&&items.length>1){if(items[_currentStepIndex-1].level>=items[_currentStepIndex].level&&items[_currentStepIndex].level<=2){items[_currentStepIndex].level+=1;items=this.updateDescendents(items,_descIndexList,\"level_increase\");sendDataToServer(items,this.sessionTime,this.props.videoID,this.props.user);this.setState({descriptions:items});}}}if(event.shiftKey||txt===\"outdent_btn\"){// shift + tab\nif(items[_currentStepIndex].level>=2){items[_currentStepIndex].level-=1;items=this.updateDescendents(items,_descIndexList,\"level_decrease\");sendDataToServer(items,this.sessionTime,this.props.videoID,this.props.user);this.setState({descriptions:items});}}}}// down\nelse if(event.which===40){items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);var oldIndex=this.getIndex(items,key,0);// can't go down\nif(oldIndex===items.length-1){this.setState({descriptions:items});return;}// update the selected item\nif(txt!==\"\"){// keep the old item\nitems[oldIndex].text=txt;items[oldIndex].selected=false;items[oldIndex].mode=\"not_writing\";// select the new item\nitems[oldIndex+1].selected=true;items[oldIndex+1].mode=\"writing\";}else{// must be removed\nitems=this.removeItem(items,oldIndex);// select the new item\nitems[oldIndex].selected=true;items[oldIndex].mode=\"writing\";}this.setState({descriptions:items});}// up\nelse if(event.which===38){items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);var _oldIndex=this.getIndex(items,key,0);// can't go up\nif(_oldIndex===0){this.setState({descriptions:items});return;}// update the selected item\nif(txt!==\"\"){// keep the old item\nitems[_oldIndex].text=txt;items[_oldIndex].selected=false;items[_oldIndex].mode=\"not_writing\";// select the new item\nitems[_oldIndex-1].selected=true;items[_oldIndex-1].mode=\"writing\";}else{// must be removed\nitems=this.removeItem(items,_oldIndex);// select the new item\nitems[_oldIndex-1].selected=true;items[_oldIndex-1].mode=\"writing\";}this.setState({descriptions:items});}else if(event.which===40||event.which===38){items=Object(toConsumableArray[\"a\" /* default */])(this.state.descriptions);var _oldIndex2=this.getIndex(items,key,0);if(_oldIndex2===items.length-1&&event.which===40)return;if(_oldIndex2===0&&event.which===38)return;// take care of the old selected item\nvar oldItemIsRemoved=false;if(txt===\"\"){if(items.length>1){// should be  deleted\nitems=this.removeItem(items,_oldIndex2);oldItemIsRemoved=true;}else{return;// length = 0 --> you cannot go to another item\n}}else{items[_oldIndex2].text=txt;items[_oldIndex2].selected=false;items[_oldIndex2].mode=\"not_writing\";}// selected the new item (already know that items.length > 1)\nvar newIndex=_oldIndex2;if(event.which===40){// down\nif(!oldItemIsRemoved&&_oldIndex2<items.length-1){newIndex=_oldIndex2+1;}}else{// up\nif(_oldIndex2>0)newIndex=_oldIndex2-1;}items=this.deselectAll(items);items[newIndex].selected=true;items[newIndex].mode=\"writing\";this.setState({descriptions:items});}}// TODO:\n// 4) add guiddance (key bindings, ...)\n// 5) record timestamp\n// 6) record video control events (number of times, and types (jump to the future/past))\n},{key:\"getIndex\",value:function getIndex(stateItems,descriptionKey,offset){var items=Object(toConsumableArray[\"a\" /* default */])(stateItems);var itemIndex=items.map(function(item){return item.key;}).indexOf(parseInt(descriptionKey));if(itemIndex>=0){return itemIndex+offset;}return-1;}},{key:\"getWritingIndex\",value:function getWritingIndex(items){for(var i=0;i<items.length;i++){if(items[i].mode===\"writing\"){return i;}}return-1;}},{key:\"setModeByKey\",value:function setModeByKey(stateItems,descriptionKey,mode){var items=Object(toConsumableArray[\"a\" /* default */])(stateItems);var itemIndex=items.map(function(item){return item.key;}).indexOf(parseInt(descriptionKey));if(itemIndex>=0){items[itemIndex].mode=mode;}else{console.log(\"step description does not exist\");}return items;}},{key:\"getMode\",value:function getMode(stateItems,descriptionKey,offset){var items=Object(toConsumableArray[\"a\" /* default */])(stateItems);var itemIndex=items.map(function(item){return item.key;}).indexOf(parseInt(descriptionKey));if(items[itemIndex+offset]!==undefined){return items[itemIndex+offset].mode;}return undefined;}},{key:\"getSelected\",value:function getSelected(items){for(var i=0;i<items.length;i++){if(items[i].selected){return i;}}return-1;}},{key:\"getWritingStep\",value:function getWritingStep(items){for(var i=0;i<items.length;i++){if(items[i].mode===\"writing\"){return i;}}return-1;}},{key:\"deselectAll\",value:function deselectAll(items){for(var i=0;i<items.length;i++){if(items[i].selected){items[i].selected=false;}}return items;}},{key:\"addStepAfter\",value:function addStepAfter(itemsState,key,mode,level){var items=Object(toConsumableArray[\"a\" /* default */])(itemsState);var itemIndex=items.map(function(item){return item.key;}).indexOf(parseInt(key));// add the new step\nvar mLevel=level;if(level===null){mLevel=items[itemIndex].level;}var descIndexList=this.getDescendents(items,itemIndex);var newItemIndex=descIndexList[descIndexList.length-1]+1;items.splice(newItemIndex,0,{key:this.counter,mode:mode,level:mLevel,selected:true,text:\"\"});this.counter+=1;return[items,newItemIndex];}},{key:\"removeWritingStep\",value:function removeWritingStep(itemsState){var items=Object(toConsumableArray[\"a\" /* default */])(itemsState);var newItems=Object(toConsumableArray[\"a\" /* default */])(items);for(var i=1;i<items.length;i++){if(items[i].mode===\"writing\"){newItems.splice(i,1);return newItems;}}console.log(\"Didn't find the item, to remove\");return newItems;}},{key:\"removeItem\",value:function removeItem(items,index){items.splice(index,1);return items;}},{key:\"getDescendents\",value:function getDescendents(items,index){var descIndexList=[index];var currentStepLevel=items[index].level;for(var i=index+1;i<items.length;i++){if(items[i].level>currentStepLevel){descIndexList.push(i);}else{break;}}return descIndexList;}},{key:\"updateDescendents\",value:function updateDescendents(items,desIndexList,action){for(var i=1;i<desIndexList.length;i++){if(action===\"level_increase\"){items[desIndexList[i]].level+=1;}else if(action===\"level_decrease\"){items[desIndexList[i]].level-=1;}}return items;}},{key:\"deleteItems\",value:function deleteItems(items,indexList){var newItems=[];items.forEach(function(item,index){if(!indexList.includes(index)){newItems.push(item);}});return newItems;}},{key:\"getPrevSibling\",value:function getPrevSibling(items,index){// pre-condition: index > 0\nfor(var i=index-1;i>0;i--){if(items[i].level<items[index].level){return null;}if(items[index].level===items[i].level){return i;}}return null;}},{key:\"saveUserData\",value:function saveUserData(descriptions,fileName){//const descriptionsJson = JSON.stringify(descriptions);\n}}]);return DescriptionPane;}(react_default.a.Component);\n// EXTERNAL MODULE: ./src/components/Login.css\nvar Login = __webpack_require__(90);\n\n// CONCATENATED MODULE: ./src/components/Login.jsx\nfunction loginUser(_x){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(credentials){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch('https://secret-gorge-06842.herokuapp.com/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)}).then(function(data){return data.json();}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}function Login_Login(_ref){var setToken=_ref.setToken;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser({username:username,password:password});case 3:token=_context.sent;console.log(token);setToken(token,username);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"login-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{id:\"login-title\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"username-label-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"login-text-input\",type:\"text\",placeholder:\"username\",onChange:function onChange(e){return setUserName(e.target.value);}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"password-label-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"login-text-input\",type:\"password\",placeholder:\"password\",autoComplete:\"off\",onChange:function onChange(e){return setPassword(e.target.value);}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"login-btn-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})})]})]});}\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(91);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={videoId:\"\",token:\"\"};_this.user=\"\";_this.setToken=_this.setToken.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.getToken=_this.getToken.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleVideoPlay=_this.handleVideoPlay.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){var token=this.getToken();if(!token){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login_Login,{setToken:this.setToken});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"main-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"player-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoPlayer_VideoPlayer,{id:\"video-player\",onVideoPlay:this.handleVideoPlay})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DescriptionPane_DescriptionPane,{id:\"description-pane\",videoID:this.state.videoId,user:this.user})]});}},{key:\"handleVideoPlay\",value:function handleVideoPlay(videoUrl){// remove time from the url\nvar newUrl=videoUrl;if(videoUrl.includes('&t=')){var urlFirstHalf=videoUrl.split('&t=')[0];var urlSecondHalf=videoUrl.split('&t=')[1];if(urlSecondHalf.includes(\"&v=\")){urlSecondHalf='&v='+urlSecondHalf.split('&v=')[1];}newUrl=urlFirstHalf+urlSecondHalf;}if(this.state.videoId!==newUrl){this.setState({videoId:newUrl});}}},{key:\"setToken\",value:function setToken(userToken,username){sessionStorage.setItem('token',JSON.stringify(userToken));this.user=username;sessionStorage.setItem('user',this.user);this.forceUpdate();}},{key:\"getToken\",value:function getToken(){var tokenString=sessionStorage.getItem('token');var userToken=JSON.parse(tokenString);this.user=sessionStorage.getItem('user');return userToken===null||userToken===void 0?void 0:userToken.token;}},{key:\"callAPI\",value:function callAPI(){var _this2=this;fetch(\"http://localhost:9000/testAPI\").then(function(res){return res.text();}).then(function(res){return _this2.setState({apiResponse:res});});}},{key:\"componentDidMount\",value:function componentDidMount(){//this.callAPI();\n}}]);return App;}(react_default.a.Component);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 94)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[93,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/index.css","ignored /Users/kian/HAKEE/annotator_app/frontend/node_modules/global min-document","/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/components/VideoPlayer.css","/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/components/DescriptionPane.css","/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/components/StepDescription.css","/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/components/Login.css","/Users/kian/HAKEE/annotator_app/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kian/HAKEE/annotator_app/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kian/HAKEE/annotator_app/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/kian/HAKEE/annotator_app/frontend/src/App.css","/Users/kian/HAKEE/annotator_app/frontend/src/components/VideoPlayer.jsx","/Users/kian/HAKEE/annotator_app/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/kian/HAKEE/annotator_app/frontend/src/statics/close_btn.svg","/Users/kian/HAKEE/annotator_app/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/kian/HAKEE/annotator_app/frontend/src/statics/indent_btn.svg","/Users/kian/HAKEE/annotator_app/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/kian/HAKEE/annotator_app/frontend/src/statics/outdent_btn.svg","/Users/kian/HAKEE/annotator_app/frontend/src/components/StepDescription.jsx","/Users/kian/HAKEE/annotator_app/frontend/src/apiCalls.js","/Users/kian/HAKEE/annotator_app/frontend/src/components/DescriptionPane.jsx","/Users/kian/HAKEE/annotator_app/frontend/src/components/Login.jsx","/Users/kian/HAKEE/annotator_app/frontend/src/App.js","/Users/kian/HAKEE/annotator_app/frontend/src/reportWebVitals.js","/Users/kian/HAKEE/annotator_app/frontend/src/index.js"],"names":["VideoPlayer","props","videoRef","React","createRef","onVideoPlay","current","player","getVideoUrl","Component","StepDescription","textInputRef","btnsDivRef","config","getConfig","item","id","toString","itemDivStyle","blur","focus","autofocus","readOnly","style","event","onSingleClick","value","onKeyPress","onBlur","sid","outdent_btn","indent_btn","close_btn","text","mode","level","textInputStyle","cursor","fontSize","marginLeft","width","height","sendDataToServer","data","sessionTime","videoID","user","pruneData","video_id","session_time","descriptions","fetch","method","headers","body","JSON","stringify","then","newData","forEach","d","push","DescriptionPane","counter","state","key","selected","setModeByKey","bind","getMode","addStepAfter","removeWritingStep","getSelected","getWritingStep","deselectAll","getIndex","getWritingIndex","removeItem","updateDescendents","getDescendents","deleteItems","getPrevSibling","groupDescriptions","getSessionTime","handleSingleClick","handleBlur","handleKeyAction","handleDragEnd","descriptionListG","stepComponentsList","map","stepList","index","provided","draggableProps","dragHandleProps","innerRef","handleDoubleClick","droppableProps","placeholder","prevProps","setState","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","stepDescriptionList","i","length","result","destination","source","items","sourceStepIndex","destinationStepIndex","steps","destinationOffset","sourceOffset","splice","flat","txt","oldWritingIndex","which","type","currentStepIndex","descIndexList","prevSiblingIndex","offset","prevStepDescIndexList","currentStepMode","curretnStepIndex","newStepIndex","preventDefault","shiftKey","oldIndex","oldItemIsRemoved","newIndex","stateItems","descriptionKey","itemIndex","indexOf","parseInt","console","log","undefined","itemsState","mLevel","newItemIndex","newItems","currentStepLevel","desIndexList","action","indexList","includes","fileName","loginUser","credentials","json","Login","setToken","useState","username","setUserName","password","setPassword","handleSubmit","e","token","target","App","videoId","getToken","handleVideoPlay","videoUrl","newUrl","urlFirstHalf","split","urlSecondHalf","userToken","sessionStorage","setItem","forceUpdate","tokenString","getItem","parse","res","apiResponse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from \"react\";\nimport \"videojs-vr\";\n\nimport \"video.js/dist/video-js.css\";\nimport \"./VideoPlayer.css\";\nimport ReactPlayer from \"react-player\";\n\nexport default class VideoPlayer extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.videoRef = React.createRef()\n    }\n\n    render() {\n        return (\n            <ReactPlayer\n            ref={this.videoRef}\n                url=\"https://youtu.be/lrcDzmIGXWs?list=PL-3W-zZzHzX_3T63nVAH5EmNAhxBIUed7\"\n                onPlay={() => {\n                    this.props.onVideoPlay(this.videoRef.current?.player?.player?.player?.getVideoUrl());\n                }}\n                controls\n            />\n        );\n    }\n\n    componentDidMount() {\n        \n    }\n\n}\n","export default __webpack_public_path__ + \"static/media/close_btn.0eb860d3.svg\";","export default __webpack_public_path__ + \"static/media/indent_btn.1259e6a7.svg\";","export default __webpack_public_path__ + \"static/media/outdent_btn.3d8a08ed.svg\";","import React from \"react\";\n\nimport \"./StepDescription.css\";\nimport close_btn from \"../statics/close_btn.svg\";\nimport indent_btn from \"../statics/indent_btn.svg\";\nimport outdent_btn from \"../statics/outdent_btn.svg\";\n\nexport default class StepDescription extends React.Component {\n    constructor(props) {\n        super(props);\n        this.textInputRef = React.createRef();\n        this.btnsDivRef = React.createRef();\n    }\n\n    render() {\n        var config = this.getConfig(this.props.item);\n\n        return (\n            <div className=\"description-item-div\" id={\"description-item_\" + this.props.id.toString()} style={config.itemDivStyle}>\n                <input\n                    id={\"description-text_\" + this.props.id.toString()}\n                    className=\"description-text\"\n                    key={this.props.sid}\n                    ref={this.textInputRef}\n                    type=\"text\"\n                    placeholder=\"type here...\"\n                    maxLength=\"30\"\n                    size=\"30\"\n                    autoComplete=\"off\"\n                    draggable={true}\n                    blur={config.blur}\n                    focus={config.focus}\n                    autoFocus={config.autofocus}\n                    readOnly={config.readOnly}\n                    style={config.style}\n                    onClick={(event) => this.props.onSingleClick(this.props.id, this.textInputRef.current.value, event)}\n                    onKeyDown={(event) => this.props.onKeyPress(this.props.id, this.textInputRef.current.value, event)}\n                    onBlur={() => this.props.onBlur(this.props.id, this.textInputRef.current.value)}\n                />\n                <div className=\"step-btns-div\" ref={this.btnsDivRef}>\n                    <button\n                        className=\"outdent-btn\"\n                        id={\"outdent_btn_\" + this.props.id.toString()}\n                        onClick={(event) => this.props.onKeyPress(this.props.id, \"outdent_btn\", event)}\n                    >\n                        <img className=\"indentation-btn-img\" src={outdent_btn} alt=\"indent\"></img>\n                    </button>\n                    <button\n                        className=\"indent-btn\"\n                        id={\"indent_btn_\" + this.props.id.toString()}\n                        onClick={(event) => this.props.onKeyPress(this.props.id, \"<-\", event)}\n                    >\n                        <img className=\"indentation-btn-img\" src={indent_btn} alt=\"->\"></img>\n                    </button>\n                    <button\n                        className=\"close-btn\"\n                        id={\"indent_btn_\" + this.props.id.toString()}\n                        onClick={(event) => this.props.onKeyPress(this.props.id, \"close_btn\", event)}\n                    >\n                        <img className=\"close-btn-img\" src={close_btn} alt=\"X\"></img>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    componentDidUpdate() {\n        this.textInputRef.current.value = this.props.item.text;\n        if (this.props.item.mode === \"writing\") {\n            this.textInputRef.current.focus();\n        } else {\n            this.textInputRef.current.blur();\n        }\n    }\n\n    componentDidMount() {\n        this.textInputRef.current.value = this.props.item.text;\n        if (this.props.item.mode === \"writing\") {\n            this.textInputRef.current.focus();\n        } else {\n            this.textInputRef.current.blur();\n        }\n    }\n\n    getConfig(item) {\n        const { mode, level } = item;\n\n        let textInputStyle = {};\n        let itemDivStyle = {};\n        let blur = \"false\";\n        let focus = \"true\";\n        let autofocus = true;\n        let readOnly = false;\n\n        if (mode === \"writing\") {\n            textInputStyle = { cursor: \"text\" };\n        } else if (mode === \"not_writing\") {\n            textInputStyle = { cursor: \"pointer\" };\n            blur = \"true\";\n            focus = \"false\";\n            readOnly = true;\n            autofocus = false;\n        }\n\n        // level-related styling\n        textInputStyle.fontSize = 17;\n        itemDivStyle.marginLeft = 0;\n        itemDivStyle.width = 470;\n        itemDivStyle.height = 45;\n\n        if (level === 2) {\n            textInputStyle.fontSize = 16;\n            itemDivStyle.marginLeft = 60;\n            itemDivStyle.width = 420;\n            itemDivStyle.height = 40;\n        } else if (level === 3) {\n            textInputStyle.fontSize = 15;\n            itemDivStyle.marginLeft = 110;\n            itemDivStyle.width = 395;\n            itemDivStyle.height = 35;\n        }\n\n        return {\n            readOnly: readOnly,\n            style: textInputStyle,\n            focus: focus,\n            blur: blur,\n            autofocus: autofocus,\n            itemDivStyle: itemDivStyle,\n        };\n    }\n}\n","\nexport async function sendDataToServer(data, sessionTime, videoID, user) {\n\n    data = pruneData(data);\n\n    data = {video_id: videoID, session_time: sessionTime, descriptions: data, user: user}\n\n    return fetch('https://secret-gorge-06842.herokuapp.com/userData', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    })\n    .then(data => {})\n}\n\nfunction pruneData(data) {\n    let newData = [];\n    data.forEach(d => {\n        newData.push({level: d.level, text: d.text});\n    });\n\n    return newData\n}","import React from \"react\";\n\n\nimport \"./DescriptionPane.css\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\n\nimport StepDescription from \"./StepDescription\";\nimport { sendDataToServer } from \"../apiCalls\"\n\nexport default class DescriptionPane extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.counter = 0;\n\t\tthis.sessionTime = \"\"\n\t\tthis.state = {\n\t\t\tdescriptions: [{ key: 0, mode: \"writing\", level: 1, selected: true, text: \"\" }],\n\t\t};\n\t\tthis.counter += 1;\n\n\t\tthis.setModeByKey = this.setModeByKey.bind(this);\n\t\tthis.getMode = this.getMode.bind(this);\n\t\tthis.addStepAfter = this.addStepAfter.bind(this);\n\t\tthis.removeWritingStep = this.removeWritingStep.bind(this);\n\t\tthis.getSelected = this.getSelected.bind(this);\n\t\tthis.getWritingStep = this.getWritingStep.bind(this);\n\t\tthis.deselectAll = this.deselectAll.bind(this);\n\t\tthis.getIndex = this.getIndex.bind(this);\n\t\tthis.getWritingIndex = this.getWritingIndex.bind(this);\n\t\tthis.removeItem = this.removeItem.bind(this);\n\t\tthis.updateDescendents = this.updateDescendents.bind(this);\n\t\tthis.getDescendents = this.getDescendents.bind(this);\n\t\tthis.deleteItems = this.deleteItems.bind(this);\n\t\tthis.getPrevSibling = this.getPrevSibling.bind(this);\n\t\tthis.groupDescriptions = this.groupDescriptions.bind(this);\n\t\tthis.getSessionTime = this.getSessionTime.bind(this);\n\n\t\tthis.handleSingleClick = this.handleSingleClick.bind(this);\n\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\tthis.handleKeyAction = this.handleKeyAction.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t}\n\n\trender() {\n\n\t\tif (this.counter === 2) {\n\t\t\tthis.sessionTime = this.getSessionTime();\n\t\t}\n\n\t\tlet descriptionListG = this.groupDescriptions([...this.state.descriptions]);\n\n\t\tlet stepComponentsList = descriptionListG.map((stepList, index) => (\n\t\t\t<Draggable draggableId={index.toString()} key={index.toString()} index={index}>\n\t\t\t\t{(provided) => (<div key={index.toString()} id={index.toString()} className=\"step-div\" {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\n\t\t\t\t\t{stepList.map((item, index) => (\n\t\t\t\t\t\t<StepDescription\n\t\t\t\t\t\t\tid={item.key.toString()}\n\t\t\t\t\t\t\tkey={item.key.toString()}\n\t\t\t\t\t\t\tonSingleClick={this.handleSingleClick}\n\t\t\t\t\t\t\tonDoubleClick={this.handleDoubleClick}\n\t\t\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\t\t\tonKeyPress={this.handleKeyAction}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>)}\n\t\t\t</Draggable>\n\t\t));\n\n\t\treturn <DragDropContext onDragEnd={this.handleDragEnd}>\n\t\t\t<Droppable droppableId=\"description-pane-droppable\" >\n\t\t\t\t{(provided) => (<div id=\"description-pane-container\" ref={provided.innerRef} {...provided.droppableProps}>{stepComponentsList}{provided.placeholder}</div>)}\n\t\t\t</Droppable>\n\t\t</DragDropContext>\n\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.videoID !== this.props.videoID) {\n\t\t\tthis.setState({descriptions: [{ key: 0, mode: \"writing\", level: 1, selected: true, text: \"\" }]});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\t//fetch(\"http://localhost:3000\").then(res => (console.log(res.text()))).catch(err => err)\n\t}\n\n\tgetSessionTime() {\n\t\tlet d = new Date();\n\t\tconst sessionTime = `${d.getFullYear()}-${d.getMonth() + 1}-${d.getDate()}-${d.getHours()}-${d.getMinutes()}-${d.getSeconds()}`;\n\t\treturn sessionTime;\n\t}\n\n\tgroupDescriptions(descriptions) {\n\t\tlet descriptionListG = [];\n\t\tlet stepDescriptionList = [];\n\t\tfor (let i = 0; i < descriptions.length; i++) {\n\t\t\t// new step\n\t\t\tif (descriptions[i].level === 1) {\n\t\t\t\tif (stepDescriptionList.length) {\n\t\t\t\t\tdescriptionListG.push(stepDescriptionList);\n\t\t\t\t}\n\t\t\t\tstepDescriptionList = [descriptions[i]];\n\t\t\t} else {\n\t\t\t\t// descendents\n\t\t\t\tstepDescriptionList.push(descriptions[i]);\n\t\t\t}\n\t\t\tif (i === descriptions.length - 1) {\n\t\t\t\tif (stepDescriptionList.length) {\n\t\t\t\t\tdescriptionListG.push(stepDescriptionList);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn descriptionListG;\n\t}\n\n\thandleDragEnd(result) {\n\t\tif (result.destination == null) return;\n\t\tif (result.destination.index === result.source.index) return;\n\n\t\tlet items = [...this.state.descriptions];\n\t\t// step-set level index\n\t\tconst sourceStepIndex = result.source.index;\n\t\tconst destinationStepIndex = result.destination.index;\n\n\t\tlet steps = this.groupDescriptions(items);\n\t\tlet destinationOffset = destinationStepIndex > sourceStepIndex ? 1 : 0;\n\t\tlet sourceOffset = destinationStepIndex > sourceStepIndex ? 0 : 1;\n\n\t\t// move a copy of source step into the new location\n\t\tsteps.splice(destinationStepIndex + destinationOffset, 0, steps[sourceStepIndex]);\n\t\t// remove the old copy of source step\n\t\tsteps.splice(sourceStepIndex + sourceOffset, 1);\n\t\tsendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\tthis.setState({ descriptions: steps.flat() });\n\t}\n\n\thandleSingleClick(key, txt) {\n\t\tlet items = [...this.state.descriptions];\n\t\tif (txt !== \"\") {\n\t\t\tlet index = this.getIndex(items, key, 0);\n\t\t\tconst oldWritingIndex = this.getWritingIndex(items);\n\t\t\tif (oldWritingIndex >= 0) {\n\t\t\t\titems[oldWritingIndex].mode = \"not_writing\";\n\t\t\t}\n\t\t\titems[index].mode = \"writing\";\n\t\t\titems = this.deselectAll(items);\n\t\t\titems[index].selected = true;\n\t\t\tthis.setState({ descriptions: items });\n\t\t}\n\t}\n\n\thandleBlur(key, txt) {\n\t\tlet items = [...this.state.descriptions];\n\t\tif (txt !== \"\") {\n\t\t\tconst index = this.getIndex(items, key, 0);\n\t\t\titems[index].mode = \"not_writing\";\n\t\t\titems[index].text = txt;\n\t\t} else if (txt === \"\" && items.length > 1) {\n\t\t\titems = this.removeWritingStep(items);\n\t\t}\n\t\t//sendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\tthis.setState({ descriptions: items });\n\t}\n\n\thandleKeyAction(key, txt, event) {\n\t\tlet items = [...this.state.descriptions];\n\n\t\t// del --> delete step\n\t\tif (event.which === 46 || (event.type === 'click' && txt === 'close_btn')) {\n\t\t\tlet currentStepIndex = null;\n\t\t\tif (key === null) {\n\t\t\t\t// delete (window listener)\n\t\t\t\tcurrentStepIndex = this.getSelected(items);\n\t\t\t} else {\n\t\t\t\t// delete (<input> listener)\n\t\t\t\tcurrentStepIndex = this.getIndex(items, key, 0);\n\t\t\t}\n\n\t\t\tif ((items[currentStepIndex].selected || (event.type === 'click' && txt === 'close_btn')) && items.length >= 2) {\n\t\t\t\t// select the previous/next step\n\t\t\t\titems = this.deselectAll(items);\n\t\t\t\tconst descIndexList = this.getDescendents(items, currentStepIndex);\n\t\t\t\tif (currentStepIndex === 0) {\n\t\t\t\t\titems[currentStepIndex + descIndexList.length].selected = true;\n\t\t\t\t} else {\n\t\t\t\t\tconst prevSiblingIndex = this.getPrevSibling(items, currentStepIndex);\n\t\t\t\t\tlet offset = 1;\n\t\t\t\t\tif (!(prevSiblingIndex == null)) {\n\t\t\t\t\t\tconst prevStepDescIndexList = this.getDescendents(\n\t\t\t\t\t\t\titems,\n\t\t\t\t\t\t\tprevSiblingIndex\n\t\t\t\t\t\t);\n\t\t\t\t\t\toffset = prevStepDescIndexList.length;\n\t\t\t\t\t}\n\t\t\t\t\titems[currentStepIndex - offset].selected = true;\n\t\t\t\t}\n\t\t\t\t// do not delete everything\n\t\t\t\tif (descIndexList.length < items.length) {\n\t\t\t\t\titems = this.deleteItems(items, descIndexList);\n\t\t\t\t\tsendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// Enter --> nex step (writing)\n\t\telse if (event.which === 13 && txt !== \"\") {\n\t\t\tconst currentStepMode = this.getMode(items, key, 0);\n\t\t\tconst curretnStepIndex = this.getIndex(items, key, 0);\n\t\t\tlet newStepIndex = curretnStepIndex;\n\t\t\tif (\n\t\t\t\tcurrentStepMode === \"writing\" ||\n\t\t\t\t(currentStepMode === \"not_writing\" && items[curretnStepIndex].selected)\n\t\t\t) {\n\t\t\t\t// change the current step to non-writing and add one writing step after it\n\t\t\t\titems[curretnStepIndex].mode = \"not_writing\";\n\t\t\t\titems[curretnStepIndex].text = txt;\n\t\t\t\t// select the current step\n\t\t\t\titems = this.deselectAll(items);\n\t\t\t\t[items, newStepIndex] = this.addStepAfter(items, key, \"writing\", null);\n\t\t\t\titems[newStepIndex].selected = true;\n\t\t\t\titems[newStepIndex].mode = \"writing\";\n\t\t\t\tsendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t}\n\t\t}\n\n\t\t// Tab or Shift + Tab\n\t\telse if (event.which === 9 || event.type === \"click\") {\n\t\t\tevent.preventDefault();\n\t\t\t// perform indention if it is writing\n\t\t\tconst currentStepIndex = this.getIndex(items, key, 0);\n\n\t\t\tif (currentStepIndex > 0) {\n\t\t\t\tconst descIndexList = this.getDescendents(items, currentStepIndex);\n\t\t\t\t// only tab\n\t\t\t\tif (!event.shiftKey || txt === \"indent_btn\") {\n\t\t\t\t\tif ((items[currentStepIndex].mode === \"writing\" || txt === \"indent_btn\") && items.length > 1) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\titems[currentStepIndex - 1].level >=\n\t\t\t\t\t\t\titems[currentStepIndex].level &&\n\t\t\t\t\t\t\titems[currentStepIndex].level <= 2\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\titems[currentStepIndex].level += 1;\n\t\t\t\t\t\t\titems = this.updateDescendents(\n\t\t\t\t\t\t\t\titems,\n\t\t\t\t\t\t\t\tdescIndexList,\n\t\t\t\t\t\t\t\t\"level_increase\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\t\t\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} if (event.shiftKey || txt === \"outdent_btn\") {\n\t\t\t\t\t// shift + tab\n\t\t\t\t\tif (items[currentStepIndex].level >= 2) {\n\t\t\t\t\t\titems[currentStepIndex].level -= 1;\n\t\t\t\t\t\titems = this.updateDescendents(\n\t\t\t\t\t\t\titems,\n\t\t\t\t\t\t\tdescIndexList,\n\t\t\t\t\t\t\t\"level_decrease\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsendDataToServer(items, this.sessionTime, this.props.videoID, this.props.user);\n\t\t\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// down\n\t\telse if (event.which === 40) {\n\t\t\titems = [...this.state.descriptions];\n\t\t\tconst oldIndex = this.getIndex(items, key, 0);\n\n\t\t\t// can't go down\n\t\t\tif (oldIndex === items.length - 1) {\n\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// update the selected item\n\t\t\tif (txt !== \"\") { // keep the old item\n\t\t\t\titems[oldIndex].text = txt;\n\t\t\t\titems[oldIndex].selected = false;\n\t\t\t\titems[oldIndex].mode = \"not_writing\";\n\n\t\t\t\t// select the new item\n\t\t\t\titems[oldIndex + 1].selected = true;\n\t\t\t\titems[oldIndex + 1].mode = \"writing\";\n\n\t\t\t} else { // must be removed\n\t\t\t\titems = this.removeItem(items, oldIndex);\n\n\t\t\t\t// select the new item\n\t\t\t\titems[oldIndex].selected = true;\n\t\t\t\titems[oldIndex].mode = \"writing\";\n\t\t\t}\n\t\t\tthis.setState({ descriptions: items });\n\t\t}\n\n\t\t// up\n\t\telse if (event.which === 38) {\n\t\t\titems = [...this.state.descriptions];\n\t\t\tconst oldIndex = this.getIndex(items, key, 0);\n\n\t\t\t// can't go up\n\t\t\tif (oldIndex === 0) {\n\t\t\t\tthis.setState({ descriptions: items });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// update the selected item\n\t\t\tif (txt !== \"\") { // keep the old item\n\t\t\t\titems[oldIndex].text = txt;\n\t\t\t\titems[oldIndex].selected = false;\n\t\t\t\titems[oldIndex].mode = \"not_writing\";\n\n\t\t\t\t// select the new item\n\t\t\t\titems[oldIndex - 1].selected = true;\n\t\t\t\titems[oldIndex - 1].mode = \"writing\";\n\n\t\t\t} else { // must be removed\n\t\t\t\titems = this.removeItem(items, oldIndex);\n\n\t\t\t\t// select the new item\n\t\t\t\titems[oldIndex - 1].selected = true;\n\t\t\t\titems[oldIndex - 1].mode = \"writing\";\n\t\t\t}\n\t\t\tthis.setState({ descriptions: items });\n\t\t}\n\n\t\telse if (event.which === 40 || event.which === 38) {\n\t\t\titems = [...this.state.descriptions];\n\t\t\tconst oldIndex = this.getIndex(items, key, 0);\n\n\t\t\tif (oldIndex === items.length - 1 && event.which === 40) return;\n\t\t\tif (oldIndex === 0 && event.which === 38) return;\n\n\t\t\t// take care of the old selected item\n\t\t\tlet oldItemIsRemoved = false;\n\t\t\tif (txt === \"\") {\n\t\t\t\tif (items.length > 1) { // should be  deleted\n\t\t\t\t\titems = this.removeItem(items, oldIndex);\n\t\t\t\t\toldItemIsRemoved = true;\n\t\t\t\t} else {\n\t\t\t\t\treturn; // length = 0 --> you cannot go to another item\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titems[oldIndex].text = txt;\n\t\t\t\titems[oldIndex].selected = false;\n\t\t\t\titems[oldIndex].mode = \"not_writing\";\n\t\t\t}\n\n\t\t\t// selected the new item (already know that items.length > 1)\n\t\t\tlet newIndex = oldIndex;\n\t\t\tif (event.which === 40) {  // down\n\t\t\t\tif (!oldItemIsRemoved && oldIndex < items.length - 1) {\n\t\t\t\t\tnewIndex = oldIndex + 1;\n\t\t\t\t}\n\t\t\t} else { // up\n\t\t\t\tif (oldIndex > 0)\n\t\t\t\t\tnewIndex = oldIndex - 1;\n\t\t\t}\n\t\t\titems = this.deselectAll(items);\n\t\t\titems[newIndex].selected = true;\n\t\t\titems[newIndex].mode = \"writing\";\n\t\t\tthis.setState({ descriptions: items });\n\t\t}\n\t}\n\n\t// TODO:\n\t// 4) add guiddance (key bindings, ...)\n\t// 5) record timestamp\n\t// 6) record video control events (number of times, and types (jump to the future/past))\n\n\tgetIndex(stateItems, descriptionKey, offset) {\n\t\tlet items = [...stateItems];\n\t\tlet itemIndex = items\n\t\t\t.map((item) => item.key)\n\t\t\t.indexOf(parseInt(descriptionKey));\n\t\tif (itemIndex >= 0) {\n\t\t\treturn itemIndex + offset;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tgetWritingIndex(items) {\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].mode === \"writing\") {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tsetModeByKey(stateItems, descriptionKey, mode) {\n\t\tlet items = [...stateItems];\n\t\tlet itemIndex = items\n\t\t\t.map((item) => item.key)\n\t\t\t.indexOf(parseInt(descriptionKey));\n\t\tif (itemIndex >= 0) {\n\t\t\titems[itemIndex].mode = mode;\n\t\t} else {\n\t\t\tconsole.log(\"step description does not exist\");\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tgetMode(stateItems, descriptionKey, offset) {\n\t\tlet items = [...stateItems];\n\t\tlet itemIndex = items\n\t\t\t.map((item) => item.key)\n\t\t\t.indexOf(parseInt(descriptionKey));\n\t\tif (items[itemIndex + offset] !== undefined) {\n\t\t\treturn items[itemIndex + offset].mode;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tgetSelected(items) {\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].selected) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tgetWritingStep(items) {\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].mode === \"writing\") {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tdeselectAll(items) {\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].selected) {\n\t\t\t\titems[i].selected = false;\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t}\n\n\taddStepAfter(itemsState, key, mode, level) {\n\t\tlet items = [...itemsState];\n\t\tlet itemIndex = items.map((item) => item.key).indexOf(parseInt(key));\n\t\t// add the new step\n\t\tlet mLevel = level;\n\t\tif (level === null) {\n\t\t\tmLevel = items[itemIndex].level;\n\t\t}\n\t\tconst descIndexList = this.getDescendents(items, itemIndex);\n\t\tlet newItemIndex = descIndexList[descIndexList.length - 1] + 1;\n\t\titems.splice(newItemIndex, 0, {\n\t\t\tkey: this.counter,\n\t\t\tmode: mode,\n\t\t\tlevel: mLevel,\n\t\t\tselected: true,\n\t\t\ttext: \"\"\n\t\t});\n\t\tthis.counter += 1;\n\n\t\treturn [items, newItemIndex];\n\t}\n\n\tremoveWritingStep(itemsState) {\n\t\tlet items = [...itemsState];\n\t\tlet newItems = [...items];\n\t\tfor (let i = 1; i < items.length; i++) {\n\t\t\tif (items[i].mode === \"writing\") {\n\t\t\t\tnewItems.splice(i, 1);\n\t\t\t\treturn newItems;\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"Didn't find the item, to remove\");\n\t\treturn newItems;\n\t}\n\n\tremoveItem(items, index) {\n\t\titems.splice(index, 1);\n\t\treturn items;\n\t}\n\n\tgetDescendents(items, index) {\n\t\tlet descIndexList = [index];\n\t\tconst currentStepLevel = items[index].level;\n\t\tfor (let i = index + 1; i < items.length; i++) {\n\t\t\tif (items[i].level > currentStepLevel) {\n\t\t\t\tdescIndexList.push(i);\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn descIndexList;\n\t}\n\n\tupdateDescendents(items, desIndexList, action) {\n\t\tfor (let i = 1; i < desIndexList.length; i++) {\n\t\t\tif (action === \"level_increase\") {\n\t\t\t\titems[desIndexList[i]].level += 1;\n\t\t\t} else if (action === \"level_decrease\") {\n\t\t\t\titems[desIndexList[i]].level -= 1;\n\t\t\t}\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tdeleteItems(items, indexList) {\n\t\tlet newItems = [];\n\t\titems.forEach((item, index) => {\n\t\t\tif (!indexList.includes(index)) {\n\t\t\t\tnewItems.push(item);\n\t\t\t}\n\t\t});\n\t\treturn newItems;\n\t}\n\n\tgetPrevSibling(items, index) {\n\t\t// pre-condition: index > 0\n\t\tfor (let i = index - 1; i > 0; i--) {\n\t\t\tif (items[i].level < items[index].level) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (items[index].level === items[i].level) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tsaveUserData(descriptions, fileName) {\n\t\t//const descriptionsJson = JSON.stringify(descriptions);\n\t}\n}\n","import React, { useState } from 'react';\nimport PropTypes from \"prop-types\"\n\nimport \"./Login.css\"\n\n\n\nasync function loginUser(credentials) {\n    return fetch('https://secret-gorge-06842.herokuapp.com/login', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n    }).then(data => data.json())\n}\n\n\nexport default function Login({ setToken }) {\n    const [username, setUserName] = useState();\n    const [password, setPassword] = useState();\n\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const token = await loginUser({\n            username,\n            password\n        });\n        console.log(token)\n        setToken(token, username);\n    }\n\n\n    return (\n        <div id=\"login-container\">\n            <h1 id=\"login-title\">Login</h1>\n            <form autoComplete={\"off\"} onSubmit={handleSubmit}>\n                <div id='username-label-div'>\n                    <label>\n                        <input className=\"login-text-input\" type=\"text\" placeholder=\"username\" onChange={e => setUserName(e.target.value)} />\n                    </label>\n                </div>\n                <div id='password-label-div'>\n                    <label>\n                        <input className=\"login-text-input\" type=\"password\" placeholder=\"password\" autoComplete={\"off\"} onChange={e => setPassword(e.target.value)} />\n                    </label>\n                </div>\n                <div id='login-btn-div'>\n                    <button type=\"submit\">Login</button>\n                </div>\n            </form>\n        </div >\n    )\n}\n\nLogin.propTypes = {\n    setToken: PropTypes.func.isRequired\n}","import React from \"react\";\n\nimport \"video.js/dist/video-js.css\";\n\nimport VideoPlayer from \"./components/VideoPlayer\";\nimport DescriptionPane from \"./components/DescriptionPane\";\nimport Login from \"./components/Login\"\n\nimport \"./App.css\";\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { videoId: \"\", token: \"\" };\n        this.user = \"\";\n\n        this.setToken = this.setToken.bind(this);\n        this.getToken = this.getToken.bind(this);\n        this.handleVideoPlay = this.handleVideoPlay.bind(this);\n\n    }\n\n    render() {\n        \n        const token = this.getToken();\n\n        if (!token) {\n            return <Login setToken={this.setToken} />\n        }\n\n        return (\n            <div id=\"main-container\">\n                <div id=\"player-container\">\n                    <VideoPlayer id=\"video-player\" onVideoPlay={this.handleVideoPlay} />\n                </div>\n                <DescriptionPane id=\"description-pane\" videoID={this.state.videoId} user={this.user} />\n            </div>\n        );\n    }\n\n    handleVideoPlay(videoUrl) {\n        \n        // remove time from the url\n        let newUrl = videoUrl;\n        if (videoUrl.includes('&t=')) {\n            const urlFirstHalf = videoUrl.split('&t=')[0];\n            let urlSecondHalf = videoUrl.split('&t=')[1];\n            if (urlSecondHalf.includes(\"&v=\")) {\n                urlSecondHalf = '&v=' + urlSecondHalf.split('&v=')[1];\n            }\n            newUrl = urlFirstHalf + urlSecondHalf;\n        }\n        \n        if (this.state.videoId !== newUrl) {\n            this.setState({videoId: newUrl})\n        }\n    }\n\n    setToken(userToken, username) {\n        sessionStorage.setItem('token', JSON.stringify(userToken));\n        this.user = username;\n        sessionStorage.setItem('user', this.user);\n        this.forceUpdate();\n    }\n    \n    getToken() {\n        const tokenString = sessionStorage.getItem('token');\n        const userToken = JSON.parse(tokenString);\n        this.user = sessionStorage.getItem('user');\n        return userToken?.token\n    }\n\n    callAPI() {\n        fetch(\"http://localhost:9000/testAPI\")\n            .then(res => res.text())\n            .then(res => this.setState({ apiResponse: res }));\n    }\n\n    componentDidMount() {\n        //this.callAPI();\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}