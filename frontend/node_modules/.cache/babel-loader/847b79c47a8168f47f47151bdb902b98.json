{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kian/HAKEE/annotator_app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/kian/HAKEE/annotator_app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/kian/HAKEE/annotator_app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(credentials){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch('http://localhost:9000/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)}).then(function(data){return data.json();}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser({username:username,password:password});case 3:token=_context.sent;console.log(token);setToken(token,username);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"login-title\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{id:\"username-label-div\",children:/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login-text-input\",type:\"text\",placeholder:\"username\",onChange:function onChange(e){return setUserName(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{id:\"password-label-div\",children:/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login-text-input\",type:\"password\",placeholder:\"password\",autoComplete:\"off\",onChange:function onChange(e){return setPassword(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{id:\"login-btn-div\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})})]})]});}","map":{"version":3,"sources":["/Users/kian/HAKEE/annotator_app/frontend/src/components/Login.jsx"],"names":["React","useState","loginUser","credentials","fetch","method","headers","body","JSON","stringify","then","data","json","Login","setToken","username","setUserName","password","setPassword","handleSubmit","e","preventDefault","token","console","log","target","value"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAGA,MAAO,aAAP,C,gGAIeC,CAAAA,S,uIAAf,kBAAyBC,WAAzB,uJACWC,KAAK,CAAC,6BAAD,CAAgC,CACxCC,MAAM,CAAE,MADgC,CAExCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF+B,CAKxCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CALkC,CAAhC,CAAL,CAMJO,IANI,CAMC,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EANL,CADX,0D,4CAWA,cAAe,SAASC,CAAAA,KAAT,MAA6B,IAAZC,CAAAA,QAAY,MAAZA,QAAY,CACxC,cAAgCb,QAAQ,EAAxC,wCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAgCf,QAAQ,EAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAGA,GAAMC,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,4HACjBA,CAAC,CAACC,cAAF,GADiB,sBAEGnB,CAAAA,SAAS,CAAC,CAC1Ba,QAAQ,CAARA,QAD0B,CAE1BE,QAAQ,CAARA,QAF0B,CAAD,CAFZ,QAEXK,KAFW,eAMjBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAR,QAAQ,CAACQ,KAAD,CAAQP,QAAR,CAAR,CAPiB,sDAAH,kBAAZI,CAAAA,YAAY,8CAAlB,CAWA,mBACI,aAAK,EAAE,CAAC,iBAAR,wBACI,WAAI,EAAE,CAAC,aAAP,mBADJ,cAEI,cAAM,YAAY,CAAE,KAApB,CAA2B,QAAQ,CAAEA,YAArC,wBACI,YAAK,EAAE,CAAC,oBAAR,uBACI,oCACI,cAAO,SAAS,CAAC,kBAAjB,CAAoC,IAAI,CAAC,MAAzC,CAAgD,WAAW,CAAC,UAA5D,CAAuE,QAAQ,CAAE,kBAAAC,CAAC,QAAIJ,CAAAA,WAAW,CAACI,CAAC,CAACK,MAAF,CAASC,KAAV,CAAf,EAAlF,EADJ,EADJ,EADJ,cAMI,YAAK,EAAE,CAAC,oBAAR,uBACI,oCACI,cAAO,SAAS,CAAC,kBAAjB,CAAoC,IAAI,CAAC,UAAzC,CAAoD,WAAW,CAAC,UAAhE,CAA2E,YAAY,CAAE,KAAzF,CAAgG,QAAQ,CAAE,kBAAAN,CAAC,QAAIF,CAAAA,WAAW,CAACE,CAAC,CAACK,MAAF,CAASC,KAAV,CAAf,EAA3G,EADJ,EADJ,EANJ,cAWI,YAAK,EAAE,CAAC,eAAR,uBACI,eAAQ,IAAI,CAAC,QAAb,mBADJ,EAXJ,GAFJ,GADJ,CAoBH","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from \"prop-types\"\n\nimport \"./Login.css\"\n\n\n\nasync function loginUser(credentials) {\n    return fetch('http://localhost:9000/login', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n    }).then(data => data.json())\n}\n\n\nexport default function Login({ setToken }) {\n    const [username, setUserName] = useState();\n    const [password, setPassword] = useState();\n\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const token = await loginUser({\n            username,\n            password\n        });\n        console.log(token)\n        setToken(token, username);\n    }\n\n\n    return (\n        <div id=\"login-container\">\n            <h1 id=\"login-title\">Login</h1>\n            <form autoComplete={\"off\"} onSubmit={handleSubmit}>\n                <div id='username-label-div'>\n                    <label>\n                        <input className=\"login-text-input\" type=\"text\" placeholder=\"username\" onChange={e => setUserName(e.target.value)} />\n                    </label>\n                </div>\n                <div id='password-label-div'>\n                    <label>\n                        <input className=\"login-text-input\" type=\"password\" placeholder=\"password\" autoComplete={\"off\"} onChange={e => setPassword(e.target.value)} />\n                    </label>\n                </div>\n                <div id='login-btn-div'>\n                    <button type=\"submit\">Login</button>\n                </div>\n            </form>\n        </div >\n    )\n}\n\nLogin.propTypes = {\n    setToken: PropTypes.func.isRequired\n}"]},"metadata":{},"sourceType":"module"}